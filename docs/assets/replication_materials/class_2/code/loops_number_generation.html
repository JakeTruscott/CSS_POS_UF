<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Truscott (Spring 2026)" />


<title>Number Generation and Loops</title>

<script src="loops_number_generation_files/header-attrs-2.28/header-attrs.js"></script>
<script src="loops_number_generation_files/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="loops_number_generation_files/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="loops_number_generation_files/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="loops_number_generation_files/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="loops_number_generation_files/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="loops_number_generation_files/navigation-1.1/tabsets.js"></script>
<link href="loops_number_generation_files/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="loops_number_generation_files/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>



<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div id="header">



<h1 class="title toc-ignore">Number Generation and Loops</h1>
<h3 class="subtitle">POS6933: Computational Social Science</h3>
<h4 class="author">Truscott (Spring 2026)</h4>

</div>


<hr />
<div id="number-generation" class="section level2">
<h2>Number Generation</h2>
<p><code>R</code> provides remarkable flexibility for randomly
generating integers across a variety of distributions. Assuming I want
to generate 1000 values at random, I can use many of <code>R’s</code>
built-in functionality to do so:</p>
<pre class="r"><code>set.seed(1234) # Random Seed 

uniform &lt;- runif(1000, min = 0, max = 10) # Uniform Distribution

normal &lt;- rnorm(1000, mean = 0, sd = 1) # Standard Normal (Mean = 0, SD = 1)

exponential &lt;- rexp(1000, rate = 1) # Exponential Distribution (Rate = 1)

poisson &lt;- rpois(1000, lambda = 3) # Poisson Distribution (Count)

binomial &lt;- rbinom(1000, size = 10, prob = 0.5) # Bernoulli Distribution

geometric &lt;- rgeom(1000, prob = 0.3) # Geometric Distribution

negative_binomial &lt;- rnbinom(1000, size = 5, prob = 0.4) # Negative Binomial

chi_sq &lt;- rchisq(1000, df = 4) # Chi-Square Distribution (4 Degrees of Freedom)

students_t &lt;- rt(1000, df = 5) # Students T (5 DF)</code></pre>
<p><img src="loops_number_generation_files/figure-html/distribution_plots-1.png" width="672" />
<br> <b> Note:</b> Red lines illustrate theoretical distribution given
parameters. <br></p>
<p><b>Additional Note Re: <i>Random</i> Number Generation</b></p>
<p>In <code>R</code>, random number generation isn’t truly random.
Rather, they’re pseudo-random, meaning they use a deterministic
algorithm to produce a sequence of numbers that appear random. A
<code>seed</code> is the starting point for that algorithm. When you
call <code>set.seed(1234)</code>, you are initializing the random number
generator with a specific value. This ensures that every time you use
the same seed, the sequence of “random” numbers <code>R</code> produces
will be exactly the same – perfect for reproducibility!</p>
<hr />
</div>
<div id="loops" class="section level2">
<h2>Loops</h2>
<p>In R, a <code>for</code> loop is a control structure used to repeat a
block of code a fixed number of times, iterating over a sequence of
values. The basic syntax is:</p>
<pre class="r"><code>for (variable in sequence){
  repeating code routine
}</code></pre>
<p>where <code>variable</code> takes on each value in sequence one at a
time, and the code inside the curly braces executes for each
iteration.</p>
<p><code>for</code> loops are useful when you need to perform repetitive
tasks, such as computing multiple summaries, filling a vector, or
generating plots for several datasets. For example, imagine I wanted to
print the squared integer of every value between 1 and 5. Rather than
individually entering <code>{value}^5</code> to the console, I could
simply iterate for each value:</p>
<pre class="r"><code>for (i in 1:5){
  print(i^2) 
}</code></pre>
<pre><code>## [1] 1
## [1] 4
## [1] 9
## [1] 16
## [1] 25</code></pre>
<p>The syntax of these loops are fairly straightforward.Here,
<code>i</code> takes on the value associated with each iteration. During
the first pass, it will assume the value of 1. On the second pass, it
will assume the value 2 – so on and so forth until it reaches the
terminal value of 5.</p>
<p><code>R</code> is also able to assume various syntax for assuming
ranges of alphanumeric values. Here’s just a few examples:</p>
<pre class="r"><code>values &lt;- seq(10, 100, by = 10) # Values 10 to 100 by 10
print(values)</code></pre>
<pre><code>##  [1]  10  20  30  40  50  60  70  80  90 100</code></pre>
<pre class="r"><code>values &lt;- c(10:20) # Values 10 to 20 (Inclusive)
print(values)</code></pre>
<pre><code>##  [1] 10 11 12 13 14 15 16 17 18 19 20</code></pre>
<pre class="r"><code>values &lt;- seq(1, 100, by = 1) # All Values 1 to 100 (Inclusive)

for (i in values){
  if (i %% 10 == 0){
    print(i)
  }
} # For Each Value in `values&#39;, if i is neatly divisible by 10, print i</code></pre>
<pre><code>## [1] 10
## [1] 20
## [1] 30
## [1] 40
## [1] 50
## [1] 60
## [1] 70
## [1] 80
## [1] 90
## [1] 100</code></pre>
<pre class="r"><code>values &lt;- c(&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;f&#39;) 

for (i in 1:length(values)){
  print(values[i])
} # For Each Value in Values, Print the Value Indexed values[i]</code></pre>
<pre><code>## [1] &quot;a&quot;
## [1] &quot;b&quot;
## [1] &quot;c&quot;
## [1] &quot;d&quot;
## [1] &quot;f&quot;</code></pre>
<p><br></p>
<div id="simulating-normal-distribution" class="section level3">
<h3>Simulating Normal Distribution</h3>
<p>I could even bake the syntax of <code>for</code> loops into random
number generation to significantly increase my efficiency in modeling
distributions. Let’s imagine I want to visualize the capacity for
repeated sampling to best mimic a standard normal distribution where
<span class="math inline">\(\mu\)</span> = 50 and <span
class="math inline">\(\sigma\)</span> = 5. Using a <code>for</code>
loop, I can cycle different sampling rates to answer this question:</p>
<pre class="r"><code>results &lt;- data.frame() # Empty Dataframe to Store Output
samples &lt;- c(10, 100, 1000, 10000) # Vector of Integers

for (i in 1:length(samples)){
  
  temp_sample_size &lt;- samples[i] # Recovers the i-th value of the samples vector
  temp_run &lt;- rnorm(temp_sample_size, mean = 50, sd = 5) # Run 
  temp_run &lt;- data.frame(sample_size = temp_sample_size, 
                         value = temp_run) # Create Temporary dataframe indicating size of samples and values from rbinom()
  results &lt;- bind_rows(results, temp_run) # Export to &#39;results&#39; data.frame
  
}

summary(results) # Print Summary</code></pre>
<pre><code>##   sample_size        value      
##  Min.   :   10   Min.   :29.37  
##  1st Qu.:10000   1st Qu.:46.55  
##  Median :10000   Median :50.00  
##  Mean   : 9092   Mean   :49.98  
##  3rd Qu.:10000   3rd Qu.:53.36  
##  Max.   :10000   Max.   :68.64</code></pre>
<pre class="r"><code>results %&gt;%
  mutate(sample_size = factor(sample_size)) %&gt;%
  ggplot(aes(x = value)) + 
  geom_density(aes(fill = sample_size), alpha = 1/3) + 
  stat_function(fun = dnorm, args = list(mean = 50, sd = 5), 
                color = &quot;red&quot;, linewidth = 1.2) + 
  labs(x = &#39;\nValue&#39;,
       y = &#39;Density\n&#39;, 
       fill = &#39;Sample Size&#39;, 
       caption = &#39;Note: Red Line Indicates Normal Distribution (μ = 50, σ = 5)&#39;) + 
  geom_hline(yintercept = 0) +
  geom_vline(xintercept = 50, linetype = 2) + 
  facet_wrap(~paste0(sample_size, &#39; Samples&#39;)) + 
  scale_x_continuous(breaks = seq(35, 65, 5)) + 
  theme_minimal() + 
  theme(panel.border = element_rect(linewidth = 1, colour = &#39;black&#39;, fill = NA), 
        axis.text = element_text(size = 12, colour = &#39;black&#39;), 
        axis.title = element_text(size = 14, colour = &#39;black&#39;), 
        strip.background = element_rect(linewidth = 1, colour = &#39;black&#39;, fill = &#39;grey75&#39;),
        strip.text = element_text(size = 12, colour = &#39;black&#39;), 
        legend.position = &#39;none&#39;, 
        plot.caption = element_text(hjust = 0.5)) </code></pre>
<p><img src="loops_number_generation_files/figure-html/for_loops_sampling-1.png" width="672" /></p>
<p><br></p>
</div>
<div id="games-of-chance-example-roulette" class="section level3">
<h3>Games of Chance Example (Roulette)</h3>
<div id="roulette-over-time-with-funds-replacement"
class="section level4">
<h4>Roulette Over Time (With Funds Replacement)</h4>
I could even use <code>for</code> loops to simulate games of chance. For
example, a standard American roulette wheel has 38 slots:
<ul>
<li style="color: red;">
<b>18 Red</b>
</li>
<li style="color: black;">
<b>18 Black</b>
</li>
<li style="color: green;">
<b>2 Green</b>
</li>
</ul>
<p><br></p>
<p><img src="https://raw.githubusercontent.com/JakeTruscott/CSS_POS_UF/58fbc1f57042f97920f3274f199516a388be1558/docs/assets/images/roulette_wheel.jpg" alt="Roulette Wheel" width="600"></p>
<p><br></p>
<p>However, to only play the colors at a 1-1 payout (i.e., receiving a
payout equal to your initial bet) means I can only select <b>Black</b>
or <span style="color:red;">Red</span>, each of which have a 0.47%
(<sup>18</sup>⁄<sub>38</sub>) probability of being selected from any
independent spin. Let’s say I played 50 times, each time selecting from
among <b>Black</b> or <span style="color:red;">Red</span>. I only have
one rule: <b> If I win, I place the same bet as before. If I lose, I
play the other color</b>. If I begin with $500 and bet the table minimum
($10), what might I be expected to finish with if I visit 100 times and
play 100 spins each time?</p>
<pre class="r"><code>set.seed(1234) # Set Initial Seed
seeds &lt;-  sample(1:1000, size = 100, replace = FALSE) # Random Seeds
roulette_values &lt;- c(rep(&quot;red&quot;, 18), rep(&quot;black&quot;, 18), rep(&quot;green&quot;, 2)) # Roulette Wheel
games &lt;- c() # Empty Vector to Store Winnings (Losses...)

for (i in 1:length(seeds)){
  
  temp_seed &lt;- seeds[i] # Recover Temporary Seed
  set.seed(temp_seed) # Set Temporary Seed
  
  available_colors &lt;- c(&#39;red&#39;, &#39;black&#39;) # Available Roulette Colors
  remaining_funds &lt;- 500 # Starting Money
  current_color &lt;- &#39;red&#39; # Starting with Red
  
  for (spin in 1:100){
    
    temp_spin &lt;- sample(roulette_values, size = 1, replace = T) # Spin!
    
    if (temp_spin == current_color){
      remaining_funds &lt;- remaining_funds + 10 # Win :D 
      current_color = current_color # Keep Color
    } else {
      remaining_funds &lt;- remaining_funds - 10 # Loss :(
      current_color = sample(available_colors[which(!available_colors == current_color)], size = 1, replace = T)
      # If Loss -- Remove $10 and Change Color to Other from Remaining Options
    }
  }
  games &lt;- c(games, remaining_funds) # Export Remaining Funds
}</code></pre>
<p><img src="loops_number_generation_files/figure-html/roulette_figure-1.png" width="672" /></p>
</div>
<div id="roulette-over-time-no-funds-replacement"
class="section level4">
<h4>Roulette Over Time (No Funds Replacement)</h4>
<p>All told, I’d lose about $40 per day. This isn’t particularly “bad”
at a local level, but over time this might be detrimental. So, what if I
changed the rules such that instead of restarting with $500 each day, I
assume the value of the day before? Suddenly, the gravity of the losses
become evident. The reason for this is actually pretty straightforward:
Recall that the probability of winning playing the colors (<b>Black</b>
or <span style="color:red;">Red</span>) is not truly 50-50. Rather, the
introduction of <span style="color:green;">0</span> and <span
style="color:green;">00</span> for a standard American wheel gives the
house a distinct odds advantage.</p>
<pre class="r"><code>set.seed(1234) # Set Initial Seed
seeds &lt;-  sample(1:1000, size = 100, replace = FALSE) # Random Seeds
roulette_values &lt;- c(rep(&quot;red&quot;, 18), rep(&quot;black&quot;, 18), rep(&quot;green&quot;, 2)) # Roulette Wheel
games &lt;- c() # Empty Vector to Store Winnings (Losses...)

for (i in 1:length(seeds)){
  
  temp_seed &lt;- seeds[i] # Recover Temporary Seed
  set.seed(temp_seed) # Set Temporary Seed
  
  available_colors &lt;- c(&#39;red&#39;, &#39;black&#39;) # Roulette Colors
  remaining_funds &lt;- ifelse(i == 1, 500, games[i-1])  # Starting Money (500 or Previous Start if i &gt; 1)
  current_color &lt;- &#39;red&#39; # Starting with Red
  
  for (spin in 1:100){
    
    temp_spin &lt;- sample(roulette_values, size = 1, replace = T) # Spin!
    
    if (temp_spin == current_color){
      remaining_funds &lt;- remaining_funds + 10 # Win :D 
      current_color = current_color # Keep Color
    } else {
      remaining_funds &lt;- remaining_funds - 10 # Loss :(
      current_color = sample(available_colors[which(!available_colors == current_color)], size = 1, replace = T)
      # If Loss -- Remove $10 and Change Color to Other from Remaining Options
    }
  }
  games &lt;- c(games, remaining_funds) # Export Remaining Funds
}</code></pre>
<p><img src="loops_number_generation_files/figure-html/roulette_no_funds_replacement_figure-1.png" width="672" /></p>
<p>We can even calculate the expected value of (let’s say) a $1 bet when
accounting for the house advantage. Recall that betting <b>Black</b> or
<span style="color:red;">Red</span> incurs an
<sup>18</sup>⁄<sub>38</sub> odds of winning. The odds of the alternative
color or <span style="color:green;">Green</span> is
<sup>20</sup>⁄<sub>38</sub>. This would mean that:</p>
<p><span class="math display">\[
\text{Expected Value of \$1 Bet } = 1 \cdot \frac{18}{38} + (-1) \cdot
\frac{20}{38} \\
   = \frac{18 - 20}{38}  \\
   = -\frac{2}{38} \\
   \approx -0.0526
\]</span> Each time a bet is made, the house will retain about a 5
percent advantage. This may seem small, but even a “small” edge is huge
when multiplied over hundreds or thousands of bets. A player might win
some, but the casino always profits in the aggregate.</p>
</div>
<div id="james-bond-strategy" class="section level4">
<h4>James Bond Strategy</h4>
<p>So what if I switched to picking numbers instead? We can also use
<code>R</code> to simulate the James Bond strategy – a “flat betting
system” (i.e., one that is repeated every iteration without alteration)
that systematically accounts for 25 of the 38 numbers on the board with
different betting amounts. While it doesn’t counteract the house edge,
it does technically redistribute the risk. Assuming the table minimum is
$20, your bet is allocated accordingly:</p>
<table>
<colgroup>
<col width="24%" />
<col width="23%" />
<col width="17%" />
<col width="13%" />
<col width="20%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">Bet Type</th>
<th align="center">Amount</th>
<th align="center">Numbers Covered</th>
<th align="center">Payout Odds</th>
<th align="center">Net Outcome if Hit</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">High numbers (19–36)</td>
<td align="center">$14</td>
<td align="center">18 numbers</td>
<td align="center">1:1</td>
<td align="center">+$8</td>
</tr>
<tr class="even">
<td align="center">Six-line (13–18)</td>
<td align="center">$5</td>
<td align="center">6 numbers</td>
<td align="center">5:1</td>
<td align="center">+$10</td>
</tr>
<tr class="odd">
<td align="center">Straight-up (0, 00)</td>
<td align="center">$0.50 each (total $1)</td>
<td align="center">2 numbers</td>
<td align="center">35:1</td>
<td align="center">-$2</td>
</tr>
<tr class="even">
<td align="center">All others (1–12)</td>
<td align="center">—</td>
<td align="center">12 numbers</td>
<td align="center">—</td>
<td align="center">-$20</td>
</tr>
</tbody>
</table>
<p>Let’s set up a similar routine as before to simulate how much money
James is winning or losing – <b>Recall</b> this does <b>not change the
house odds</b>.</p>
<pre class="r"><code>set.seed(1234) # Set Initial Seed
seeds &lt;-  sample(1:1000, size = 100, replace = FALSE) # Random Seeds
roulette_values &lt;- as.character(c(1:36, &quot;0&quot;, &quot;00&quot;)) # Roulette Wheel
bond_wins &lt;- as.character(c(19:36, 13:18, &quot;0&quot;, &quot;00&quot;)) # Numbers Where James Wins
bets &lt;- c(
  rep(14, 18),    # 19–36
  rep(5, 6),      # 13–18
  rep(0.5, 2)     # 0 and 00
) # Bets Associated with Numbers
payouts &lt;- c(
  rep(8, 18),     # 19–36: +$8 net
  rep(10, 6),     # 13–18: +$10 net
  rep(-2, 2)      # 0 and 00: -$2 net
) # Payouts 
bond_payouts &lt;- data.frame(
  number = bond_wins, # Numbers
  bet = bets, # Bet Values
  payout = payouts,  # Associated Payouts
  stringsAsFactors = F
) # Dataframe to Return Payouts for Winning Numbers # Numbers Where James Wins


games &lt;- c() # Empty Vector to Store Winnings (Losses...)

for (i in 1:length(seeds)){
  
  temp_seed &lt;- seeds[i] # Recover Temporary Seed
  set.seed(temp_seed) # Set Temporary Seed
  
  remaining_funds &lt;- ifelse(i == 1, 500, games[i-1])  # Starting Money (500 or Previous Day if i &gt; 1)
  
  for (spin in 1:100){
    
    temp_spin &lt;- sample(roulette_values, size = 1, replace = T) # Spin!
    
    if (temp_spin %in% bond_wins){
      
      temp_payout &lt;- bond_payouts$payout[bond_payouts$number == temp_spin] # Return Temp Payout
      
      remaining_funds &lt;- remaining_funds + temp_payout # Apply Win :D 

    } else {
      remaining_funds &lt;- remaining_funds - 20 # Apply Full $20 Loss :(
    }
  }
  games &lt;- c(games, remaining_funds) # Export Remaining Funds
}</code></pre>
<p><img src="loops_number_generation_files/figure-html/bond_strategy_figure-1.png" width="672" /></p>
<p>Turns out James’ watered-down cocktails didn’t help in the long
run.</p>
</div>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
